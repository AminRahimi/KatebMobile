<div class="panel panel-default">
	<div class="panel-body" style="border-bottom: 1px solid #ddd">
		<div class="col-sm-12">
			<a class="btn btn-sm btn-text btn-icon"
				ng-show="true" type="button"
				ng-click="Func.onReturnClick()"><i class="flaticon-close-button"></i>بستن</a>
		</div>
	</div>
</div>
<div class="panel panel-primary">
	<div class="panel-body">
		<ul class="nav nav-tabs">
			<li role="presentation" ng-class="{'active':tab.active}"
				ng-repeat="tab in Data.tabList"
				ng-click="Func.onTabClick(tab)"><a>{{tab.title}}</a></li>
		</ul>

		<form name="form" novalidate>
			<div class="col-sm-12 " ng-show="Data.selectedTab.id == 0">
                <div class="c1">
                    <div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.externalNumber.$invalid}">
                        <label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">شماره خارجی</label>
                        <div ng-show="Data.mode=='view'" class="col-sm-7">
                    {{Data.letter.externalNumber|EnToFaNumber}}
                        </div>
                        <!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
                            <!--<input ng-blur="Func.searchLetterByExternalnumber(Data.letter.externalNumber)" type="text" class="form-control" name="externalNumber"-->
                                <!--ng-model="Data.letter.externalNumber" ng-change="Data.duplicateList=[]" required>-->
                            <!--<div ng-show="Data.duplicateList.length" class="duplicate-letter">-->
                                <!--<div class="header">نامه‌های مشابه</div>-->
                                <!--<span class="kateb-label kateb-label--default-light  fa-btn"-->
                                    <!--ng-repeat="item in Data.duplicateList"-->
                                    <!--ng-click="Func.onDuplicateClick(item)">{{item.title}}</span>-->
                            <!--</div>-->
                        <!--</div>-->
                    </div>
<div class="row rowForm">
                     <label class="col-sm-5">رده موضوعی</label>
                     <div ng-show="Data.mode=='view'" class="col-sm-7 ">
                {{Data.letter.topicCategory.title}}
                     </div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7 dropdown-selector">-->
                        <!--<i class="fa fa-times" ng-click="Func.onRemoveSenderClick('topicCategory')" ng-show="Data.topicCategory"></i>-->
						<!--<ui-select name="topicCategory" ng-model="Data.topicCategory"-->
								   <!--on-select="Func.onSelectTopicCategory($item, $model)">-->
							<!--<ui-select-match>-->
								<!--<span ng-bind="$select.selected.title"></span>-->
							<!--</ui-select-match>-->
							<!--<ui-select-choices-->
                                    <!--repeat="item in (Data.tagList | filter: $select.search) track by $index"-->
                                    <!--refresh="Func.searchTagList($select.search)"-->
                                    <!--refresh-delay="0">-->
								<!--<span ng-bind="item.title"></span>-->
							<!--</ui-select-choices>-->
						<!--</ui-select>-->
					<!--</div>-->
                </div>

				<div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.subject.$invalid}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">موضوع</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
				{{Data.letter.subject|EnToFaNumber}}
					</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
					<!--<style>-->
					<!--input.auto-size-input {-->
					    <!--min-width:100%;-->
					    <!--max-width:600px;-->
					<!--}-->

					<!--#hidden_span{-->
					    <!--position:absolute;-->
					    <!--top:0px;-->
					    <!--left:0px;-->
					    <!--visibility:hidden;-->
					    <!--width:10px;-->
					    <!--white-space:nowrap;-->
					    <!--overflow:hidden;-->
					<!--}-->
					<!--</style>-->
						<!--<input type="text" class="form-control auto-size-input" name="subject"-->
							<!--ng-model="Data.letter.subject" required ng-init="doAoutoSizeInput()" maxlength="250"/>-->
							<!--<div id="counter"></div>-->
							<!--<span id="hidden_span"></span>-->
					<!--</div>-->
				</div>

				<div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.officialData.$invalid}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">تاریخ اولیه مدرک</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
				{{Data.letter.officialDate|tehranDate:'jDD-jMMMM-jYYYY'|EnToFaNumber}}
					</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<vt-persian-date-picker name="officialData"-->
							<!--model="Data.letter.officialDate"></vt-persian-date-picker>-->
					<!--</div>-->
				</div>
				<div class="row rowForm">
					<label class="col-sm-5">برچسب‌ها</label>
					<div class="col-sm-7">
						<!--<multiselect model="Data.letter.tags" options="Data.tagList"-->
							<!--is-edit-mode="Data.mode!='view'"></multiselect>-->
                        <multiselect-reciever model="Data.letter.tags" search-fn="controller.multiselectRecieverSearchTags(query)"
                                              name="letterTags" ng-model="Data.letter.tags"
                                              is-edit-mode="false"></multiselect-reciever>
					</div>
				</div>
				<div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.originalityType.$invalid}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">نوع مدرک</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
				{{Data.letter.originalityType|appEnum:licenceType}}
					</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<select class="form-control" ng-model="Data.letter.originalityType" name="originalityType" required>-->
							<!--<option value="Copy">کپی</option>-->
							<!--<option value="Orginal">اصل</option>-->
							<!--<option value="CopyAsOrginal">کپی برابر با اصل</option>-->
						<!--</select>-->
					<!--</div>-->
				</div>
				<div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.receivingStyle.$invalid}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">نوع دریافت</label>
					<div ng-show="Data.mode=='view' || Data.letter.receivingStyle=='KATEB' || Data.letter.receivingStyle=='ECEP'" class="col-sm-7">
				{{Data.letter.receivingStyle|appEnum:letterRecivingType}}
					</div>
					<!--<div ng-show="Data.mode!='view' && Data.letter.receivingStyle!='KATEB' && Data.letter.receivingStyle!='ECEP'" class="col-sm-7">-->
						<!--<select class="form-control" ng-model="Data.letter.receivingStyle" name="receivingStyle">-->
							<!--<option value="POST">پست</option>-->
							<!--<option value="FAX">فکس</option>-->
							<!--<option value="COURIER">پیک</option>-->
						<!--</select>-->
					<!--</div>-->
				</div>
				<div class="row rowForm" ng-hide="Data.mode=='view' && !Data.letter.confidentialityLevel">
					<label class="col-sm-5">اندازه صفحه</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">{{Data.letter.pageSize}}</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<select class="form-control" ng-model="Data.letter.pageSize" name="draftPageSize">-->
							<!--<option value="A4">A4</option>-->
							<!--<option value="A5">A5</option>-->
							<!--<option value="B5">B5</option>-->
						<!--</select>-->
					<!--</div>-->
				</div>
				<div class="row rowForm">
					<label class="col-sm-5">فوریت</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">{{Data.letter.priority|appEnum:priority}}</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<select class="form-control" ng-model="Data.letter.priority">-->
							<!--<option value="Normal">عادی</option>-->
							<!--<option value="Critical">فوری</option>-->
							<!--<option value="Blocker">خیلی فوری</option>-->
						<!--</select>-->
					<!--</div>-->
				</div>
				<div class="row rowForm">
					<label class="col-sm-5">سطح محرمانگی</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">{{Data.letter.confidentialityLevel|appEnum:confidentialityLevel}}</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<select class="form-control" ng-model="Data.letter.confidentialityLevel">-->
							<!--<option value="Unclassified">طبقه بندی نشده</option>-->
							<!--<option value="Restricted">محرمانه</option>-->
							<!--<option value="Confidential">فوق محرمانه</option>-->
							<!--<option value="Secret">سری</option>-->
							<!--<option value="Top_secret">فوق سری</option>-->
						<!--</select>-->
					<!--</div>-->
				</div>
				<div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.indicatorBook.$invalid}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">دفتر اندیکاتور</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
				{{Data.letter.indicatorBook.title|EnToFaNumber}}
					</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<select class="form-control" ng-model="Data.indicatorBook" name="indicatorBook" required-->
							<!--ng-change="Func.onSelectIndicatorBook(Data.indicatorBook)"-->
							<!--ng-options="indicatorBook as indicatorBook.title for indicatorBook in Data.indicatorBookList">-->
						<!--</select>-->
					<!--</div>-->
				</div>
				<!--<div class="row rowForm" ng-show="Data.mode!='view'">-->
					<!--<label class="col-sm-5">نیاز به پاسخ</label>-->
					<!--<div class="col-sm-7">-->
						<!--<input type="checkbox" ng-model="Data.responseNeeded">-->
					<!--</div>-->
				<!--</div>-->
				<div class="row rowForm" ng-if="Data.responseNeeded">
					<label class="col-sm-5">مهلت پاسخ</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
				{{Data.letter.requestResponseDate|tehranDate:'jDD-jMMMM-jYYYY'|EnToFaNumber}}
					</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<vt-persian-date-picker name="requestResponseDate" model="Data.letter.requestResponseDate"></vt-persian-date-picker>-->
					<!--</div>-->
				</div>
				<div class="row rowForm">
					<label class="col-sm-5">توضیحات</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
				{{Data.letter.description|EnToFaNumber}}
					</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<textarea type="text" class="form-control" name="description"-->
							<!--ng-model="Data.letter.description"></textarea>-->
					<!--</div>-->
				</div>
                </div>
                <div class="c2">
                    <div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.letterDeliveryTo.$invalid}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">گیرندگان</label>
					<div class="col-sm-7">
						<multiselect-reciever model="Data.letter.deliveryTo" search-fn="controller.multiselectRecieverSearch(query)"
							name="letterDeliveryTo" ng-model="Data.letter.deliveryTo" vt-array-required
							is-edit-mode="false"></multiselect-reciever>
					</div>
				</div>
				<div class="row rowForm">
					<label class="col-sm-5">رونوشت</label>
					<div class="col-sm-5">
						<multiselect-reciever has-description="true" model="Data.letter.deliveryCc" search-fn="controller.multiselectRecieverSearch(query)"
							is-edit-mode="false"></multiselect-reciever>
					</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-2">-->
						<!--<a ng-init="bcc=false" ng-click="bcc = !bcc" ng-show="!bcc" class="pull-left">رونوشت پنهان</a>-->
					<!--</div>-->
				</div>
				<div class="row rowForm" ng-show="Data.letter.deliveryBcc.length">
					<label class="col-sm-5">رونوشت پنهان</label>
					<div class="col-sm-5">
						<multiselect-reciever has-description="true" model="Data.letter.deliveryBcc" search-fn="controller.multiselectRecieverSearch(query)"
							is-edit-mode="false"></multiselect-reciever>
					</div>
				</div>
<!-- 				<div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.externalOrganizationSender.$invalid}"> -->
				<div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.externalOrganizationSender.$invalid}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">سازمان فرستنده</label>
					<div ng-show="Data.mode=='view' || Data.letter.receivingStyle=='KATEB'" class="col-sm-7">{{Data.letter.externalOrganizationSender.title}}</div>
					<!--<div ng-show="Data.mode!='view' && Data.letter.receivingStyle!='KATEB'" class="col-sm-7">-->
						<!--<ui-select name="externalOrganizationSender" ng-model="Data.letter.externalOrganizationSender" required-->
							<!--on-select="Func.onSelectOrganizationSender($item, $model)">-->
						    <!--<ui-select-match>-->
						        <!--<span ng-bind="$select.selected.title"></span>-->
						    <!--</ui-select-match>-->
						    <!--<ui-select-choices repeat="item in (Data.organizationSenderList | filter: $select.search) track by $index">-->
						        <!--<span ng-bind="item.title"></span>-->
						    <!--</ui-select-choices>-->
						<!--</ui-select>-->
					<!--</div>-->
				</div>
				<div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.letterSender.$invalid}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">فرستنده</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
				{{Data.letter.sender.title}}
					</div>
					<!--<div ng-show="Data.mode!='view'" class="col-sm-7">-->
						<!--<ui-select required-->
                              <!--name="letterSender"-->
							   <!--on-select="Func.onSelectSender($item, $model)"-->
							   <!--reset-search-input="false"-->
                            <!--ng-model="Data.letter.sender">-->
						    <!--<ui-select-match allow-clear="true">-->
						        <!--<span ng-bind="$select.selected.title"></span>-->
						    <!--</ui-select-match>-->
						    <!--<ui-select-choices-->
									<!--refresh="Func.getUiSelectData($select)"-->
									<!--refresh-delay="0"-->
									<!--repeat="item in (Data.senderList | filter: $select.search) track by $index">-->
						        <!--<span ng-bind="item.title"></span>-->
						    <!--</ui-select-choices>-->
						<!--</ui-select>-->
					<!--</div>-->
				</div>
                </div>
				
                
			</div>

			<div class="col-sm-12" ng-show="Data.selectedTab.id == 1">
                <div class="row rowForm" ng-class="{'has-error':Data.validationClicked && form.letterBody.$invalid}">
                    <div class="col-sm-8">
                        <letter-body model="Data.letter.body" ng-required="!Data.scanedFile.hash" name="letterBody" ng-model="Data.letter.body"
                                     is-edit-mode="false" api="controller.letterBody"
                                     on-file-uploaded="loadPdfFn" pdf-url="Data.scanedFile">
                        </letter-body>
                    </div>
                    <div class="col-sm-4">
                        <accordion close-others="false">
                            <accordion-group is-open="attachment.open" ng-init="attachment.open=true">
                                <accordion-heading>
                                    <span>ضمیمه</span>
                                    <i class="pull-right glyphicon"
                                       ng-class="{'glyphicon-chevron-down': attachment.open, 'glyphicon-chevron-right': !attachment.open}"></i>
                                </accordion-heading>
                                <div>
                                    <letter-attachment model="Data.letter.attachments" is-edit-mode="false">
                                    </letter-attachment>
                                </div>
                            </accordion-group>
                        </accordion>
                    </div>
                </div>
                <!--<div class="rowForm pull-left" ng-show="Data.mode!='view'">-->
                    <!--<scanner  options="controller.scanner.options" class="col-sm-6" style="position: absolute; top: 3px; right: 50px;" isolate-form model="Data.scanedFile" api="controller.scanner" ></scanner>-->
                <!--</div>-->
			</div>

			<!--<div class="col-sm-12" ng-show="Data.selectedTab.id == 2">
				<letter-attachment

                    model="Data.letter.attachments"
                    is-edit-mode="false">
                </letter-attachment>
			</div>-->
		</form>
	<div>
</div>
