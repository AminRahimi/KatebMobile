<div class="col-sm-10 col-sm-offset-2 panel-cartable-content">
    <div class="panel panel-default">
        <div class="panel-body" style="border-bottom: 1px solid #ddd">
            <div class="col-sm-12">
                <a class="btn btn-sm btn-text btn-icon" ng-show="true" type="button" ng-click="Func.onReturnClick()"
                ><i class="flaticon-close-button"></i>بستن</a>
                <button ng-click="Func.onGetPreviousLetterClick()"
                        type="button"
                        class="btn btn-sm btn-text btn-icon white-bg pull-left"
                        ng-disabled="Data.isPrevDisabled">
                    <i class="fa fa-arrow-up"></i> قبلی
                </button>
                <button ng-click="Func.onGetNextLetterClick()"
                        type="button"
                        class="btn btn-sm btn-text btn-icon white-bg pull-left"
                        ng-disabled="Data.isNextDisabled">
                    <i class="fa fa-arrow-down"></i>بعدی
                </button>

            </div>
        </div>
    </div>
    <div class="panel panel-primary">
        <div class="panel-body">
            <ul class="nav nav-tabs">
                <li role="presentation" ng-class="{'active':tab.active}"
                    ng-repeat="tab in Data.tabList"
                    ng-click="Func.onTabClick(tab)" access-checker="{{tab.feature}}"><a>{{tab.title}}</a></li>
            </ul>

            <div class="col-sm-12 form-flex" ng-show="Data.selectedTab.id == 0">

                <div class="c1">
                    <!--<div class="row rowForm" access-checker="ACCESS_RESET_CACHE">
                        <label class="col-sm-5">ریست</label>
                        <div class="col-sm-7">
                            <button style="margin-left: 5px" ng-click="Func.onResetDataCache()" type="button"
                                    class="btn btn-sm btn-primary pull-left">ریست کش
                            </button>
                            <button style="margin-left: 5px" ng-click="Func.onResetLPAs()" type="button"
                                    class="btn btn-sm btn-primary pull-left">ریست در کارتابل ها
                            </button>
                            <button style="margin-left: 5px" ng-click="Func.onResetPdfCache()" type="button"
                                    class="btn btn-sm btn-primary pull-left">ریست pdf
                            </button>
                        </div>
                    </div>-->
                    <div class="row rowForm">
                        <label class="col-sm-5">شماره نامه</label>
                        <div class="col-sm-7">{{Data.letter.internalNumber|EnToFaNumber}}</div>
                    </div>
                    <div class="row rowForm" ng-if="Data.letter.initiation.externalNumber">
                        <label class="col-sm-5">شماره خارجی</label>
                        <div class="col-sm-7">
                            {{Data.letter.initiation.externalNumber|EnToFaNumber}}
                        </div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">موضوع</label>
                        <div class="col-sm-7">{{Data.letter.subject|EnToFaNumber}}</div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">تاریخ رسمی</label>
                        <div class="col-sm-7">
                            {{Data.letter.officialDate|tehranDate:'jDD-jMMMM-jYYYY HH:mm:ss'|EnToFaNumber}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-show="Data.letter.initiation.header.title">
                        <label class="col-sm-5">سربرگ</label>
                        <div class="col-sm-7">
                            {{Data.letter.initiation.header.title}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-show="Data.letter.initiation.pageSize">
                        <label class="col-sm-5">اندازه صفحه</label>
                        <div class="col-sm-7">
                            {{Data.letter.initiation.pageSize}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-if="Data.letter.requestResponseDate">
                        <label class="col-sm-5">مهلت پاسخ گویی</label>
                        <div class="col-sm-7">
                            {{Data.letter.requestResponseDate|tehranDate:'jDD-jMMMM-jYYYY'|EnToFaNumber}}
                        </div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">فوریت</label>
                        <div class="col-sm-7">{{Data.letter.priority|appEnum:priority}}</div>
                    </div>
                    <div class="row rowForm" ng-if="Data.letter.confidentialityLevel">
                        <label class="col-sm-5">سطح محرمانگی</label>
                        <div class="col-sm-7">{{Data.letter.confidentialityLevel|appEnum:confidentialityLevel}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-if="Data.letter.dirType">
                        <label class="col-sm-5">نوع نامه</label>
                        <div class="col-sm-7">
                            {{Data.letter.dirType|appEnum:letterType}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-if="Data.letter.initiation.originalityType">
                        <label class="col-sm-5">نوع</label>
                        <div class="col-sm-7">
                            {{Data.letter.initiation.originalityType|appEnum:licenceType}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-if="Data.letter.initiation.receivingStyle">
                        <label class="col-sm-5">نوع دریافت</label>
                        <div class="col-sm-7">
                            {{Data.letter.initiation.receivingStyle|appEnum}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-if="Data.type=='OUTSIDE'">
                        <label class="col-sm-5">دبیرخانه</label>
                        <div class="col-sm-7">
                            {{Data.letter.initiation.initiatingSecretariat.title}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-if="Data.letter.initiation.initiatingOperator.title">
                        <label class="col-sm-5">مسئول ثبت</label>
                        <div class="col-sm-7">
                            {{Data.letter.initiation.initiatingOperator.title}}
                        </div>
                    </div>
                    <div class="row rowForm" ng-if="Data.letter.initiation.receivingDescription">
                        <label class="col-sm-5">توضیحات</label>
                        <div class="col-sm-7">
                            {{Data.letter.initiation.receivingDescription|EnToFaNumber}}
                        </div>
                    </div>

                </div>

                <div class="c2">
                    <div class="row rowForm">
                        <label class="col-sm-5">فرستنده</label>
                        <div class="col-sm-7">{{Data.letter.initiation.sender.title}}</div>
                    </div>
                    <div class="row rowForm" ng-show="Data.letter.initiation.actor.title">
                        <label class="col-sm-5">اقدام کننده</label>
                        <div class="col-sm-7">{{Data.letter.initiation.actor.title}}</div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">گیرندگان</label>
                        <div class="col-sm-7 receiver">
                            <label class="label label-default label-repeat" ng-repeat="pua in Data.letter.deliveryTo">
                                <div>{{pua.title}}</div>
                                <hr style="border-color: rgb(0, 151, 167); margin: 6px;" ng-show="pua.description">
                                <div ng-show="pua.description">{{pua.description}}</div>
                            </label>
                        </div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">رونوشت</label>
                        <div class="col-sm-7 receiver">
                            <label class="label label-default label-repeat" ng-repeat="pua in Data.letter.deliveryCc">
                                <div>{{pua.title}}</div>
                                <hr style="border-color: rgb(0, 151, 167); margin: 6px;" ng-show="pua.description">
                                <div ng-show="pua.description">{{pua.description}}</div>
                            </label>
                        </div>
                    </div>
                    <div class="row rowForm" ng-show="Data.letter.deliveryBcc.length>0">
                        <label class="col-sm-5">رونوشت پنهان</label>
                        <div class="col-sm-7 receiver">
                            <label class="label label-default label-repeat" ng-repeat="pua in Data.letter.deliveryBcc">
                                <div>{{pua.title}}</div>
                                <hr style="border-color: rgb(0, 151, 167); margin: 6px;" ng-show="pua.description">
                                <div ng-show="pua.description">{{pua.description}}</div>
                            </label>
                        </div>
                    </div>
                </div>


            </div>

            <div class="col-sm-12" ng-show="Data.selectedTab.id == 1">
                <div class="row rowForm">
                    <div class="col-sm-12 col-sm-offset-2hashemi">
                        <letter-body model="Data.letter.fileBody"
                                     is-edit-mode="false"
                                     on-file-uploaded="loadPdfFn"
                                     pdf-file="Data.pdfFile"
                                     api="Controller.pdfFile">
                        </letter-body>
                    </div>
                    <!--<div class="col-sm-4" style="max-height: calc(100vh - 230px);overflow: auto">
                        <accordion close-others="false">
                            <accordion-group is-open="print.open" ng-init="print.open=true">
                                <accordion-heading>
                                    <h4>چاپ</h4>
                                    <i class="pull-right glyphicon"
                                       ng-class="{'glyphicon-chevron-down': print.open, 'glyphicon-chevron-right': !print.open}"></i>
                                </accordion-heading>
                                <div>
                                    <kateb-print model="Data.letter" disable-checkbox="Data.letter.modifyInProcess"
                                                 letter-uid="Data.letter.uid"
                                                 is-print-with-signature="Data.isPrintWithSignature"
                                                 is-print-with-header="Data.isPrintWithHeader"
                                                 indecator-number="Data.indecatorNumber" deliverycc="Data.delivery_cc"
                                                 deliverybcc="Data.delivery_bcc"></kateb-print>
                                </div>
                            </accordion-group>
                            <accordion-group is-open="attachment.open" ng-init="attachment.open=true">
                                <accordion-heading>
                                    <h4>ضمیمه</h4>
                                    <i class="pull-right glyphicon"
                                       ng-class="{'glyphicon-chevron-down': attachment.open, 'glyphicon-chevron-right': !attachment.open}"></i>
                                </accordion-heading>
                                <div>
                                    <letter-attachment model="Data.letter.attachments" is-edit-mode="false">
                                    </letter-attachment>
                                </div>
                            </accordion-group>
                            <accordion-group is-open="relatedLetters.open" ng-init="relatedLetters.open=true">
                                <accordion-heading>
                                    <h4>نامه های مرتبط</h4>
                                    <i class="pull-right glyphicon"
                                       ng-class="{'glyphicon-chevron-down': relatedLetters.open, 'glyphicon-chevron-right': !relatedLetters.open}"></i>
                                </accordion-heading>
                                <div>
                                    <div class="row is-view-attachment"
                                         ng-repeat="letter in Data.relatedLetterList track by $index">
                                        <h4 class="col-sm-12">{{letter.dirType|appEnum:letterType}}</h4>
                                        <div class="col-sm-2" style="text-align:center">
                                            <div class="img-type-attachment fa fa-envelope-o bg-letter"></div>
                                            <div class="title-attachment">{{letter.letterBody.name|splitString:15}}</div>
                                        </div>
                                        <div class="col-sm-10 description-attachment">
                                            <div class="col-sm-12">
                                                <div class="col-sm-12">
                                                    <span class="relatedLetterLable col-sm-4">فرستنده: </span>
                                                    <span class="col-sm-8">{{letter.initiation.sender.title}}</span>
                                                </div>
                                                <div class="col-sm-12">
                                                    <span class="relatedLetterLable col-sm-4">موضوع: </span>
                                                    <span class="col-sm-8">{{letter.subject}}</span>
                                                </div>
                                                <div class="col-sm-12">
                                                    <span class="relatedLetterLable col-sm-4">تاریخ ایجاد: </span>
                                                    <span class="col-sm-8">{{letter.creationDate|tehranDate:'jDD-jMMMM-jYYYY'|EnToFaNumber}}</span>
                                                </div>
                                                <div class="col-sm-12">
                                                    <span class="relatedLetterLable col-sm-4">شماره داخلی: </span>
                                                    <span class="col-sm-8">{{letter.internalNumber|EnToFaNumber}}</span>
                                                </div>
                                                <div class="col-sm-12">
                                                    <span class="relatedLetterLable col-sm-4">الویت: </span>
                                                    <span class="col-sm-8">{{letter.priority|appEnum:priority}}</span>
                                                </div>
                                            </div>
                                            <a class="btn pull-left"
                                               ui-sref="home.cartable.orgLetter({letterUid: letter.uid})"
                                               target="_blank">نمایش نامه</a>
                                        </div>
                                    </div>
                                </div>
                            </accordion-group>
                        </accordion>
                    </div>-->
                </div>
            </div>
            <!--<div class="col-sm-12" ng-show="Data.selectedTab.id == 3">
                <div class="col-sm-6">
                    <open-tree tree-data="Data.letterForwardTreeData" api="Controller.treeApi"
                               class="open-tree tree no-drop-actions"></open-tree>
                </div>
                <div class="col-sm-4 col-sm-offset-2 well well-sm" ng-if="Data.selectedNode.letter"
                     style="background: transparent;box-shadow: 0 0 13px -8px #333">
                    <i style="height: 16px;" ng-click="Data.selectedNode = {}"
                       class="flaticon-close-button pull-right btn btn-xs"></i>
                    &nbsp;&nbsp;
                    <div class="row rowForm">
                        <label class="col-sm-5">مخاطب</label>
                        <div class="col-sm-7">
                            <ul style="list-style: none">
                                <li ng-repeat="item in Data.selectedNode.letter.deliveryTo"
                                    style="border-radius: 4px;margin-bottom: 2px;">
                                    <div>{{item.title}}</div>
                                    <hr style="border-color: rgb(0, 151, 167); margin: 6px;" ng-show="item.description">
                                    <div ng-show="item.description">{{item.description}}</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">ارجاع دهنده</label>
                        <div class="col-sm-7">{{Data.selectedNode.letter.forwarder.title}}</div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">تاریخ رسمی</label>
                        <div class="col-sm-7">{{Data.selectedNode.letter.officialDate|tehranDate:'jDD-jMMMM-jYYYY HH:mm:ss'|EnToFaNumber}}</div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">مهلت پاسخ</label>
                        <div class="col-sm-7">{{Data.selectedNode.letter.requestResponseDate|tehranDate:'jDD-jMMMM-jYYYY'|EnToFaNumber}}</div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">تاریخ پاسخ</label>
                        <div class="col-sm-7">{{Data.selectedNode.respondDate|tehranDate:'jDD-jMMMM-jYYYY'|EnToFaNumber}}</div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">پاسخ ارجاع</label>
                        <div class="col-sm-7">{{Data.selectedNode.respond}}</div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">هامش</label>
                        <div class="col-sm-7">{{Data.selectedNode.letter.hamesh}}</div>
                    </div>
                    <div class="row rowForm">
                        <label class="col-sm-5">ضمائم</label>
                        <div class="col-sm-7">
                            <div ng-repeat="attachment in Data.selectedNode.letter.forwardAttachments track by $index">

                                <button style="margin: 1px;" ng-show="attachment.letterBody"
                                        class="btn btn-primary col-sm-12"
                                        ng-click="Func.onShowLetterModalClick(attachment.letterBody)">{{attachment.letterBody.title}}</button>
                                <vt-file ng-show="attachment.fileBody" model="attachment.fileBody"
                                         is-edit-mode="false"></vt-file>
                            </div>

                        </div>
                    </div>
                </div>
                <hr class="col-sm-11"/>
            </div>-->
        </div>
    </div>
</div>
