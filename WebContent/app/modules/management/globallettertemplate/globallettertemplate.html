<style>
	.slideTheme {
		min-height: 25px;
		max-width: 100%;
	}
</style>
<div class="col-sm-12">
	<div class="panel panel-default panel-page-header">
		<div class="panel-body">مدیریت قالب نامه بین سازمانی</div>
	</div>
</div>
<div class="col-md-8" access-checkerr="API_LIST_LETTER_TEMPLATE">
	<div class="panel panel-default">
		<div class="panel-body">
			<vt-search control-fn="Controller.globalLetterTemplateSearchController"></vt-search>
		</div>
	</div>
	<div class="panel panel-default">
		<div class="panel-body">
			<vt-grid control-fn="Controller.globalLetterTemplateListController"></vt-grid>
		</div>
	</div>
</div>

<div class="col-md-4" access-checkerr="API_VIEW_LETTER_TEMPLATE" 
	ng-hide="Data.searchMode=='advanced'">
	<div class="panel panel-default">
		<div class="panel-body panel-management">
			<div class="col-sm-12">
				 <a class="btn btn-sm btn-default btn-text"
					access-checkerr="API_ADD_LETTER_TEMPLATE"
					ng-show="true" type="button"
					ng-click="Func.onAddGlobalLetterTemplateClick()" ng-disabled="Data.mode=='add'" ng-bind="'CREATE'|EnToFaButton"></a>
				<a class="btn btn-sm btn-primary btn-text"
					access-checkerr="API_EDIT_LETTER_TEMPLATE"
					ng-show="Data.selectedgloballettertemplate.uid && Data.mode=='view'" type="button"
					ng-click="Func.onEditgloballettertemplateClick()" ng-disabled="" ng-bind="'EDIT'|EnToFaButton"></a>
				<a class="btn btn-sm btn-success btn-text"
					access-checkerr="API_ADD_LETTER_TEMPLATE"
					ng-show="Data.mode=='add'" type="button"
					ng-click="Func.onSavegloballettertemplateClick()" ng-bind="'SAVE'|EnToFaButton"
					ng-disabled="globallettertemplateForm.$invalid && Data.validationClicked"></a>
				<a class="btn btn-sm btn-success btn-text"
					access-checkerr="API_EDIT_LETTER_TEMPLATE"
					ng-show="Data.mode=='edit'" type="button"
					ng-click="Func.onUpdategloballettertemplateClick()" ng-bind="'UPDATE'|EnToFaButton"
					ng-disabled="globallettertemplateForm.$invalid && Data.validationClicked"></a>
				<a class="btn btn-sm btn-warning btn-text"
					ng-show="Data.mode=='edit' || Data.mode=='add'" type="button"
					ng-click="Func.onCancelClick()" ng-disabled="" ng-bind="'CANCEL'|EnToFaButton"></a>
				<a class="btn btn-sm btn-danger btn-text"
					access-checkerr="API_DELETE_LETTER_TEMPLATE"
					ng-show="Data.selectedgloballettertemplate.uid && Data.mode=='view'" type="button"
					ng-click="Func.onDeletegloballettertemplateClick()" ng-disabled="" ng-bind="'DELETE'|EnToFaButton"></a>
				<a class="btn btn-sm btn-default pull-left"
					ng-show="true" type="button"
					ng-click="Func.onChangeSearchModeClick('advanced')">
					<span class="glyphicon glyphicon-filter" aria-hidden="true"></span>
				</a>
			</div>
		</div>
	</div>
	<div class="panel panel-default" ng-show="Data.selectedgloballettertemplate.uid || Data.mode=='add'">
		<div class="panel-body">
			<form name="globallettertemplateForm" role="form" novalidate>
				<div class="row rowForm" ng-class="{'has-error':globallettertemplateForm.name.$invalid && Data.validationClicked}">
					<label class="col-sm-5" ng-class="{'required':Data.mode!='view'}">نام</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
				{{Data.selectedgloballettertemplate.name|EnToFaNumber}}
					</div>
					<div ng-show="Data.mode!='view'" class="col-sm-7">
						<input type="text" class="form-control" name="name" required
							ng-model="Data.selectedgloballettertemplate.name">
					
					</div>
				</div>
				<div class="row rowForm">
					<label class="col-sm-5">فعال</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
						{{Data.selectedgloballettertemplate.enabled|checkmark}}
					</div>
					<div ng-show="Data.mode!='view'" class="col-sm-7">
						<input type="checkbox" class="" name="enabled" 
							ng-model="Data.selectedgloballettertemplate.enabled">
					</div>
				</div>	
				<div class="row rowForm">
					<label class="col-sm-5">آیکون قالب</label>
					<div ng-show="Data.mode=='view'" class="col-sm-7">
						<img class="slideTheme" src="files/?mode=view&fcode={{Data.selectedgloballettertemplate.thumnail.hash}}">
					</div>
					<div ng-show="Data.mode!='view'" class="col-sm-7">
						<vt-photo ng-model="Data.selectedgloballettertemplate.thumnail" ratio="1" 
							is-edit-mode="Data.mode!='view'" no-title-description="true">
						</vt-photo>
				
					</div>
				</div>
				 <div class="row rowForm">
					<label class="col-sm-5">متن نامه</label>
					<div ng-show="Data.mode=='view'" lang="fa" dir="rtl" class="col-sm-12 ck-content"
						ng-bind-html="Func.trustAsHtml(Data.selectedgloballettertemplate.data.textBody)"></div>
					<div ng-show="Data.mode!='view'" class="col-lg-12" id="ckeditorContainer">
						<textarea name="content_ref" class="text-justify form-control"
							id="editor1" rows="10" cols="80"></textarea>
					</div>
				</div>	
				<!--<div class="row rowForm">
					<label class="col-sm-5">قالب ویرایشگر Word</label>
					<div class="col-sm-7">
						<vt-file required="false" is-edit-mode="Data.mode!='view'" type="doc,docx"
							model="Data.selectedgloballettertemplate.wordTemplate">
						</vt-file>
					</div>
				</div>	-->
			</form>
		</div>
	</div>
</div>
<div class="col-md-4" access-checkerr="API_VIEW_LETTER_TEMPLATE" ng-show="Data.searchMode=='advanced'">
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="col-sm-12">
				<vt-search control-fn="Controller.globallettertemplateAdvancedSearchController"></vt-search>
			</div>
		</div>
	</div>
</div>


